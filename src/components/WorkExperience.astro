---
import Accordion from "../components/shared/Accordion.astro";
import ParentOrganization from "./shared/workex/ParentOrganization.astro";
import ClientOrganization from "./shared/workex/ClientOrganization.astro";
import { workExperience } from "../data/presentation";
---

<section class="flex flex-col gap-6">
  	<h3 class="text-lg font-semibold text-white">Work Experience</h3>

  	<div class="flex flex-col gap-2">
		{workExperience.map((exp) => (
			<Accordion>
				<!-- Parent Company -->
				<div slot="header">
				<ParentOrganization
					logo={exp.parent.logo}
					company={exp.parent.company}
					role={exp.parent.role}
					duration={exp.parent.duration}
				/>
				</div>

				<!-- Client Work -->
				<div slot="content">
				{exp.clients.map((client) => (
					<ClientOrganization
					logo={client.logo}
					company={client.company}
					role={client.role}
					tech={client.tech}
					highlights={client.highlights}
					/>
				))}
				</div>
			</Accordion>
		))}
  	</div>
</section>
